<!DOCTYPE html>
<html>
  <head>
    <title><%= header_title %></title>
    <meta charset="utf-8">
    <meta name="description">
    <link rel="stylesheet" href="/css/other.css">
    <link rel="stylesheet" href="/css/colorbox/colorbox.css" />

    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.1.5/angular.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.1.5/angular-resource.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <!--local-->
    <script src="/js/readmore.js"></script>
    <script src="/js/index.js"></script>
    <script src="/js/colorbox/jquery.colorbox-min.js"></script>
    <script>
    $(document).ready(function(){
      $("a.colorbox").colorbox({iframe: true,width:900,height:500});
    });
    </script>
  </head>
  <body ng-app="index" ng-controller="EventCtrl">
    <div id="wrapper">
      <div id="header">
        <div id="navbar">
            <a href="http://g0v.tw/" target="_blank">g0v.tw</a> | 
            <a class="colorbox" href="/gdsmw.html?doc=/README.txt" target="_blank">About</a>
        </div>
        <h1 class="page-title"><%= page_title %></h1>
      </div>
      <div id="filter">
        <div class="year">
          <span class="query" ng-click="$parent.query = year" ng-repeat="year in years">{{year}}</span>
        </div>
        <div class="tag">
          <span class="query" ng-click="$parent.query = tag" ng-repeat="tag in tags">{{tag}}</span>
        </div>
        <form>搜尋：<input class="textfield" ng-model="query"></form>
      </div>
    <div id="container" ng-show="(events|filter:query).length">
      <div class="timeline_container">
        <div class="timeline">
        <div class="plus"></div>
        </div>
      </div>
      <div class="item clearfix" ng-repeat="event in events|filter:query|orderBy:'sort'" ng-animate=" 'item' " post-repeat-masonry>
        <h2 class="title">
          <a href="/wiki/{{event.headline}}">{{event.headline}}</a>
        </h2>
        <div class="time">
          {{event.startDate}}-{{event.endDate}} 
        </div>
        <div class="content">
          {{event.text}}
        </div>
        <div class="sort">
          {{event.sort}}
        </div>
        <div class="tags">
          <span class="tag" ng-click="$parent.$parent.query = tag" ng-repeat="tag in event.tag">{{tag}}</span>
        </div>
      </div>
    </div><!-- container -->
    </div><!-- wrapper -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-41326468-1', 'g0v.tw');
  ga('send', 'pageview');

</script>
  </body>
</html>
