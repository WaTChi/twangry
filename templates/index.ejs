<!DOCTYPE html>
<html>
	<head>
    <% include head %>
    <script>
    $(document).ready(function(){
      $("a.colorbox").colorbox({iframe: true,width:900,height:500});
    });
    </script>
    <link href="/css/introjs.css" rel="stylesheet">
	</head>
	<body class="<%= template %>" ng-app="index" ng-controller="EventCtrl">
  <% include header %>
  <div id="wrapper">
    <div id="container" class="container">
			<div class="main" ng-show="(filterEvents|filter:filterByTag).length">
        <div align="center" id="spinner"><span class="icon-spinner icon-4x"></span></div>
				<ul class="cbp_tmtimeline">
          <li class="item" ng-repeat="event in filterEvents|filter:filterByTag|orderBy:'sort':true" ng-animate=" 'item' " on-finish-render>
						<time class="cbp_tmtime" datetime=""><span ng-show="event.endDate != ''">{{event.endDate}}</span> <span>{{event.startDate}}</span></time>
						<div class="cbp_tmicon icon-plus-sign"></div>
						<div class="cbp_tmlabel collapsed">
              <div class="icon-tags" ng-show="event.tag != ''"><span class="tag" ng-click="$parent.$parent.query = tag" ng-repeat="tag in event.tag">{{tag}}</span></div>
              <h2><a href="/wiki/{{event.headline}}">{{event.headline}}<span class="icon-double-angle-right"></span></a></h2>
              <p class="content" ng-hide>{{event.text}}</p>
						</div>
            <div class="sort" ng-hide="event.sort">{{event.sort}}</div>
          </li>
				</ul>
      </div><!--main-->
      <div id="no-result" ng-show="(filterEvents|filter:filterByTag).length == 0">
        目前沒有這筆資料，但是你可以看一下「<a href="/wiki/{{filter}}">{{filter}}</a>」的時間軸。
      </div>
    </div><!-- container -->
    <div id="to-top" class="icon-angle-up icon-4x"></div>
  </div><!-- wrapper-->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-41326468-1', 'g0v.tw');
    ga('send', 'pageview');
  </script>
    <script type="text/javascript" ng-init="">
        elem = document.getElementsByClassName('cbp_tmlabel')[0];
        elem.setAttribute('data-step', 2);
        elem.setAttribute('data-intro', '這裡可以展開。');
    </script>
    <script type="text/javascript" src="/js/intro.js"></script>
    <script type="text/javascript">
      document.getElementById('startButton').onclick = function() {
        introJs().setOption('doneLabel', 'Next page').start().oncomplete(function() {
          //window.location.href = 'second.html?multipage=true';
        });
      };
    </script>
	</body>
</html>
